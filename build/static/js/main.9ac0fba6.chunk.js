(this["webpackJsonpcotil-chat"]=this["webpackJsonpcotil-chat"]||[]).push([[0],{50:function(e,t,a){e.exports=a(94)},55:function(e,t,a){},56:function(e,t,a){},90:function(e,t){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),l=a(45),o=a.n(l),m=(a(55),a(8)),s=c.a.createContext({}),i=function(e){var t=e.children,a=Object(r.useState)(""),n=Object(m.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(""),u=Object(m.a)(i,2),E=u[0],f=u[1],h=Object(r.useState)([]),b=Object(m.a)(h,2),d=b[0],v=b[1];return c.a.createElement(s.Provider,{value:{name:l,room:E,setName:o,setRoom:f,messages:d,setMessages:v}},t)},u=function(){return Object(r.useContext)(s)},E=a(24),f=a(2),h=(a(56),function(e){var t=e.children;return c.a.createElement("nav",{className:"navbar"},t)}),b=a(16),d=function(){var e=u(),t=e.name,a=e.setName,n=e.room,l=e.setRoom,o=Object(r.useState)(!1),s=Object(m.a)(o,2),i=s[0],E=s[1];return i?c.a.createElement(f.a,{from:"/join",to:"/chat"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"content"},c.a.createElement(h,null,c.a.createElement("h1",{className:"nav-title"},"COTIL CHAT")),c.a.createElement("h2",null,"Entre na sala:"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E(!0)},className:"join-form"},c.a.createElement("label",{htmlFor:"name"},"Nome:"),c.a.createElement("input",{className:"input",required:!0,value:t,maxLength:20,onChange:function(e){return a(e.target.value)}}),c.a.createElement("label",{htmlFor:"room"},"C\xf3digo da sala:"),c.a.createElement("input",{className:"input",required:!0,value:n,onChange:function(e){return l(e.target.value)}}),c.a.createElement("button",{type:"submit",className:"btn",id:"btn-join"},c.a.createElement(b.b,{size:24,className:"btn-icon"}),"Entrar")),c.a.createElement("footer",null,c.a.createElement("p",null,c.a.createElement("a",{href:"https://github.com/guiguat/simple-chat",target:"_blank",rel:"noopener noreferrer"},"Made with \u2665 by ",c.a.createElement("br",{className:"mobile"}),"Guilherme Guatura & Iuri Corr\xeaa")))))},v=a(49),g=a(48),p=a(47),N=a.n(p),j=(a(93),function(e){var t=e.message,a=u().name,n=t.user===a.trim().toLowerCase();return c.a.createElement("div",{className:"msg-body ".concat(n?"user":"")},c.a.createElement("span",{className:"msg-name"},t.user),c.a.createElement("p",{className:"msg-content"},t.text))}),O=function(e){var t=e.location,a=u(),l=a.name,o=a.room,s=a.setMessages,i=a.messages,E=Object(r.useState)(""),d=Object(m.a)(E,2),p=d[0],O=d[1],w="https://cotil-chat.herokuapp.com/";Object(r.useEffect)((function(){(l||o)&&(n=N()(w)).emit("join",{name:l,room:o},(function(e){e&&alert(e)}))}),[w,null===t||void 0===t?void 0:t.search]),Object(r.useEffect)((function(){var e;null===(e=n)||void 0===e||e.on("message",(function(e){console.log(e),s([].concat(Object(v.a)(i),[e]))}))}),[p]);return l||o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"content"},c.a.createElement(h,null,c.a.createElement("div",{className:"nav-links"},c.a.createElement("a",{id:"arrow-back",href:"/"},c.a.createElement(b.a,{size:24})),c.a.createElement("h1",{className:"nav-title"},"Sala: ",o))),c.a.createElement("div",{id:"interface"},c.a.createElement("div",{id:"interface-content"},c.a.createElement("div",{id:"chat"},i.map((function(e,t){return c.a.createElement(j,{key:t,message:e})}))),c.a.createElement("form",{id:"msg-form",onSubmit:function(e){var t;(e.preventDefault(),p)&&(null===(t=n)||void 0===t||t.emit("sendMessage",p,(function(){O("")})))}},c.a.createElement("input",{type:"text",value:p,onChange:function(e){return O(e.target.value)},className:"input"}),c.a.createElement("button",{id:"btn-send",type:"submit"},c.a.createElement(g.a,{size:24,color:"#DEDEDE"})))),c.a.createElement("footer",null,c.a.createElement("p",null,c.a.createElement("a",{href:"https://github.com/guiguat/simple-chat",target:"_blank",rel:"noopener noreferrer"},"Made with \u2665 by ",c.a.createElement("br",{className:"mobile"}),"Guilherme Guatura & Iuri Corr\xeaa")))))):c.a.createElement(f.a,{to:"/"})},w=function(){return c.a.createElement(E.a,null,c.a.createElement(f.d,null,c.a.createElement(f.b,{path:"/",exact:!0,component:d}),c.a.createElement(f.b,{path:"/chat",exact:!0,component:O})))},C=function(){return c.a.createElement(i,null,c.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.9ac0fba6.chunk.js.map